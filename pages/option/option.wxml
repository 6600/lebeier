<!-- 音乐播放模板 -->
<import src ="../template/template.wxml"/>
<template wx:if="{{showLogin}}" is="login" />
<view wx:else class="content">
  <template is="switch"  data="{{flag, style}}"/>
  <template is="navigation"  data="{{navigation}}"/>
  <view class='option'>
    <!-- 音乐列表 -->
    <scroll-view scroll-y wx:if="{{isMusic}}" class="Four-seasons {{musicListHasData ? '': 'max'}}">
      <view data-index="{{index}}" wx:for="{{cardList}}" class="option-Choice-music {{item.show ? 'show-music-menu' : ''}}"  bindtap='shouPlayMenu' wx:key="{{index}}">
        <view data-index="{{index}}" class='text'>{{item.name}}</view>
        <image class="music-playing" wx:if="{{isPlaying && playIndex === index}}" src='http://puge.oss-cn-beijing.aliyuncs.com/lebeier/i_disc.gif'></image>
        <view class="menu-box">
          <view class='play-button' data-id="{{item.id}}" data-index="{{index}}" data-name="{{item.name}}" catchtap='playMusic'>
            <image class='play-button-img' data-id="{{item.id}}" data-index="{{index}}" data-name="{{item.name}}" src='http://puge.oss-cn-beijing.aliyuncs.com/lebeier/play-32.png'></image>
            <text data-id="{{item.id}}" data-index="{{index}}" data-name="{{item.name}}">播放音乐</text>
          </view>
          <view class='time'>
            <image class='play-button-img' src='http://puge.oss-cn-beijing.aliyuncs.com/lebeier/time-32.png'></image>
            <text>{{item.music_time}}</text>
          </view>
        </view>
      </view>
    </scroll-view>
    <!-- 卡片列表 -->
    <scroll-view scroll-y wx:else class='Four-seasons'>
      <view class="option-box" style="height: {{cardList.length / 2 * 430}}rpx;">
        <view class='option-Choice' wx:for="{{cardList}}"  bindtap='tomenu' wx:key="{{index}}">
          <view wx:if="{{item.status !== 'normal'}}" catchtap="stop" class="lock"></view>
          <view data-id="{{item.id}}" data-name="{{item.name}}" class='text'>{{item.name}}</view>
          <image wx:if="{{item.image}}" data-id="{{item.id}}" data-name="{{item.name}}" src='{{serve + item.image}}'></image>
        </view>
      </view>
    </scroll-view>
  </view>
</view>
<!-- 播放器 -->
<template is="Playback" data="{{isPlaying, totalProcess, sliderValue, player, currentTime, totalTime, musicName, style, isListLoop, musicListHasData}}"/>